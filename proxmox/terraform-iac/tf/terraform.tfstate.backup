{
  "version": 4,
  "terraform_version": "1.6.3",
  "serial": 129,
  "lineage": "0fe296c9-93d6-6e2a-c739-c589a5d3809d",
  "outputs": {
    "ip_list": {
      "value": [
        [
          [
            [
              "127.0.0.1"
            ],
            [
              "192.168.3.201"
            ]
          ],
          [
            [
              "127.0.0.1"
            ],
            [
              "192.168.3.189"
            ]
          ]
        ]
      ],
      "type": [
        "tuple",
        [
          [
            "tuple",
            [
              [
                "list",
                [
                  "list",
                  "string"
                ]
              ],
              [
                "list",
                [
                  "list",
                  "string"
                ]
              ]
            ]
          ]
        ]
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "local_file",
      "name": "config",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "---\nvirtual_machine_globals:\n  node_name: \"pve\"\n  description: \"Managed by Terraform\"\n  tags:\n  - \"terraform\"\n  - \"ubuntu\"\n\nvirtual_machines:\n- name: \"vm-9901\"\n  vm_id: 9901\n  network_device_list:\n  - mac_address: \"00:00:00:00:99:01\"\n  clone:\n  - vm_id: 101\n  agent:\n  - enabled: true\n  operating_system:\n  - type: \"l26\"\n  # When tested with a GPU with a PCIe BUS ID = \"0000:01:00\",\n  # the manual working setup had /etc/pve/qemu-server/\u003cVM_ID\u003e.conf showing:\n  #   machine: q35\n  #   bios: ovmf\n  #   hostpci0: 0000:01:00,pcie=1\n  #   cpu: host,hidden=1,flags=+pcid\n  #   args: -cpu 'host,+kvm_pv_unhalt,+kvm_pv_eoi,hv_vendor_id=NV43FIX,kvm=off'\n  vga:\n  - enabled: true\n    type: std\n  hostpci_list:\n  - device: \"hostpci0\"\n    id: \"0000:01:00\"\n    pcie: true\n  cpu:\n  - cores: 2\n    type: \"host\"\n    flags:\n    - \"+pcid\"\n  kvm_arguments: \"-cpu 'host,+kvm_pv_unhalt,+kvm_pv_eoi,hv_vendor_id=NV43FIX,kvm=off'\"\n  tags:\n  - \"gpu-nvidia\"\n- name: \"vm-9902\"\n  vm_id: 9902\n  network_device_list:\n  - mac_address: \"00:00:00:00:99:02\"\n  clone:\n  - vm_id: 101\n  agent:\n  - enabled: true\n  operating_system:\n  - type: \"l26\"\n  vga:\n  - enabled: true\n    type: std\n  hostpci_list: {}\n  cpu: {}\n  kvm_arguments: \"\"\n  tags:\n  - \"gpu-none\"\n",
            "content_base64": "LS0tCnZpcnR1YWxfbWFjaGluZV9nbG9iYWxzOgogIG5vZGVfbmFtZTogInB2ZSIKICBkZXNjcmlwdGlvbjogIk1hbmFnZWQgYnkgVGVycmFmb3JtIgogIHRhZ3M6CiAgLSAidGVycmFmb3JtIgogIC0gInVidW50dSIKCnZpcnR1YWxfbWFjaGluZXM6Ci0gbmFtZTogInZtLTk5MDEiCiAgdm1faWQ6IDk5MDEKICBuZXR3b3JrX2RldmljZV9saXN0OgogIC0gbWFjX2FkZHJlc3M6ICIwMDowMDowMDowMDo5OTowMSIKICBjbG9uZToKICAtIHZtX2lkOiAxMDEKICBhZ2VudDoKICAtIGVuYWJsZWQ6IHRydWUKICBvcGVyYXRpbmdfc3lzdGVtOgogIC0gdHlwZTogImwyNiIKICAjIFdoZW4gdGVzdGVkIHdpdGggYSBHUFUgd2l0aCBhIFBDSWUgQlVTIElEID0gIjAwMDA6MDE6MDAiLAogICMgdGhlIG1hbnVhbCB3b3JraW5nIHNldHVwIGhhZCAvZXRjL3B2ZS9xZW11LXNlcnZlci88Vk1fSUQ+LmNvbmYgc2hvd2luZzoKICAjICAgbWFjaGluZTogcTM1CiAgIyAgIGJpb3M6IG92bWYKICAjICAgaG9zdHBjaTA6IDAwMDA6MDE6MDAscGNpZT0xCiAgIyAgIGNwdTogaG9zdCxoaWRkZW49MSxmbGFncz0rcGNpZAogICMgICBhcmdzOiAtY3B1ICdob3N0LCtrdm1fcHZfdW5oYWx0LCtrdm1fcHZfZW9pLGh2X3ZlbmRvcl9pZD1OVjQzRklYLGt2bT1vZmYnCiAgdmdhOgogIC0gZW5hYmxlZDogdHJ1ZQogICAgdHlwZTogc3RkCiAgaG9zdHBjaV9saXN0OgogIC0gZGV2aWNlOiAiaG9zdHBjaTAiCiAgICBpZDogIjAwMDA6MDE6MDAiCiAgICBwY2llOiB0cnVlCiAgY3B1OgogIC0gY29yZXM6IDIKICAgIHR5cGU6ICJob3N0IgogICAgZmxhZ3M6CiAgICAtICIrcGNpZCIKICBrdm1fYXJndW1lbnRzOiAiLWNwdSAnaG9zdCwra3ZtX3B2X3VuaGFsdCwra3ZtX3B2X2VvaSxodl92ZW5kb3JfaWQ9TlY0M0ZJWCxrdm09b2ZmJyIKICB0YWdzOgogIC0gImdwdS1udmlkaWEiCi0gbmFtZTogInZtLTk5MDIiCiAgdm1faWQ6IDk5MDIKICBuZXR3b3JrX2RldmljZV9saXN0OgogIC0gbWFjX2FkZHJlc3M6ICIwMDowMDowMDowMDo5OTowMiIKICBjbG9uZToKICAtIHZtX2lkOiAxMDEKICBhZ2VudDoKICAtIGVuYWJsZWQ6IHRydWUKICBvcGVyYXRpbmdfc3lzdGVtOgogIC0gdHlwZTogImwyNiIKICB2Z2E6CiAgLSBlbmFibGVkOiB0cnVlCiAgICB0eXBlOiBzdGQKICBob3N0cGNpX2xpc3Q6IHt9CiAgY3B1OiB7fQogIGt2bV9hcmd1bWVudHM6ICIiCiAgdGFnczoKICAtICJncHUtbm9uZSIK",
            "content_base64sha256": "csS7/AXsqKs5RpwKx2XSw4cJzZ7dUxwsmroFD8JJocU=",
            "content_base64sha512": "iAfT1RqGR68PVi5jh7+w2ViqET1q5Rt+Ug0mUJ+9x8xJshNvQfObS+kL29nn7w8gRwCrKrIujfVmP6ThJhZ2Ew==",
            "content_md5": "3bbe83d983782a2aa85f0d41b5fd35d9",
            "content_sha1": "958553a45b2f6674b37da15547068eba20396d7f",
            "content_sha256": "72c4bbfc05eca8ab39469c0ac765d2c38709cd9edd531c2c9aba050fc249a1c5",
            "content_sha512": "8807d3d51a8647af0f562e6387bfb0d958aa113d6ae51b7e520d26509fbdc7cc49b2136f41f39b4be90bdbd9e7ef0f204700ab2ab22e8df5663fa4e126167613",
            "filename": "config.yaml",
            "id": "958553a45b2f6674b37da15547068eba20396d7f"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "proxmox_virtual_environment_vm",
      "name": "vms",
      "provider": "provider[\"registry.terraform.io/bpg/proxmox\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "acpi": true,
            "agent": [
              {
                "enabled": true,
                "timeout": "15m",
                "trim": false,
                "type": "virtio"
              }
            ],
            "audio_device": [],
            "bios": "ovmf",
            "boot_order": null,
            "cdrom": [],
            "clone": [
              {
                "datastore_id": "",
                "full": true,
                "node_name": "",
                "retries": 2,
                "vm_id": 101
              }
            ],
            "cpu": [
              {
                "architecture": "x86_64",
                "cores": 2,
                "flags": [
                  "+pcid"
                ],
                "hotplugged": 0,
                "numa": false,
                "sockets": 1,
                "type": "host",
                "units": 1024
              }
            ],
            "description": "Managed by Terraform",
            "disk": [],
            "efi_disk": [],
            "hostpci": [
              {
                "device": "hostpci0",
                "id": "0000:01:00",
                "mapping": "",
                "mdev": "",
                "pcie": true,
                "rom_file": "",
                "rombar": false,
                "xvga": false
              }
            ],
            "id": "9901",
            "initialization": [],
            "ipv4_addresses": [
              [
                "127.0.0.1"
              ],
              [
                "192.168.3.201"
              ]
            ],
            "ipv6_addresses": [
              [
                "::1"
              ],
              [
                "fe80::200:ff:fe00:9901"
              ]
            ],
            "keyboard_layout": "en-us",
            "kvm_arguments": "-cpu 'host,+kvm_pv_unhalt,+kvm_pv_eoi,hv_vendor_id=NV43FIX,kvm=off'",
            "mac_addresses": [
              "00:00:00:00:00:00",
              "00:00:00:00:99:01"
            ],
            "machine": "q35",
            "memory": [],
            "migrate": false,
            "name": "vm-9901",
            "network_device": [
              {
                "bridge": "vmbr0",
                "enabled": true,
                "firewall": false,
                "mac_address": "00:00:00:00:99:01",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate_limit": 0,
                "vlan_id": 0
              }
            ],
            "network_interface_names": [
              "lo",
              "enp6s18"
            ],
            "node_name": "pve",
            "on_boot": true,
            "operating_system": [
              {
                "type": "l26"
              }
            ],
            "pool_id": null,
            "reboot": false,
            "scsi_hardware": "virtio-scsi-pci",
            "serial_device": [],
            "smbios": [],
            "started": true,
            "startup": [],
            "tablet_device": true,
            "tags": [
              "gpu-nvidia",
              "terraform",
              "ubuntu"
            ],
            "template": false,
            "timeout_clone": 1800,
            "timeout_create": 1800,
            "timeout_migrate": 1800,
            "timeout_move_disk": 1800,
            "timeout_reboot": 1800,
            "timeout_shutdown_vm": 1800,
            "timeout_start_vm": 1800,
            "timeout_stop_vm": 300,
            "usb": [],
            "vga": [
              {
                "enabled": true,
                "memory": 16,
                "type": "std"
              }
            ],
            "vm_id": 9901
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.local_file.config"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "acpi": true,
            "agent": [
              {
                "enabled": true,
                "timeout": "15m",
                "trim": false,
                "type": "virtio"
              }
            ],
            "audio_device": [],
            "bios": "ovmf",
            "boot_order": null,
            "cdrom": [],
            "clone": [
              {
                "datastore_id": "",
                "full": true,
                "node_name": "",
                "retries": 2,
                "vm_id": 101
              }
            ],
            "cpu": [],
            "description": "Managed by Terraform",
            "disk": [],
            "efi_disk": [],
            "hostpci": [],
            "id": "9902",
            "initialization": [],
            "ipv4_addresses": [
              [
                "127.0.0.1"
              ],
              [
                "192.168.3.189"
              ]
            ],
            "ipv6_addresses": [
              [
                "::1"
              ],
              [
                "fe80::200:ff:fe00:9902"
              ]
            ],
            "keyboard_layout": "en-us",
            "kvm_arguments": "",
            "mac_addresses": [
              "00:00:00:00:00:00",
              "00:00:00:00:99:02"
            ],
            "machine": "q35",
            "memory": [],
            "migrate": false,
            "name": "vm-9902",
            "network_device": [
              {
                "bridge": "vmbr0",
                "enabled": true,
                "firewall": false,
                "mac_address": "00:00:00:00:99:02",
                "model": "virtio",
                "mtu": 0,
                "queues": 0,
                "rate_limit": 0,
                "vlan_id": 0
              }
            ],
            "network_interface_names": [
              "lo",
              "enp6s18"
            ],
            "node_name": "pve",
            "on_boot": true,
            "operating_system": [
              {
                "type": "l26"
              }
            ],
            "pool_id": null,
            "reboot": false,
            "scsi_hardware": "virtio-scsi-pci",
            "serial_device": [],
            "smbios": [],
            "started": true,
            "startup": [],
            "tablet_device": true,
            "tags": [
              "gpu-none",
              "terraform",
              "ubuntu"
            ],
            "template": false,
            "timeout_clone": 1800,
            "timeout_create": 1800,
            "timeout_migrate": 1800,
            "timeout_move_disk": 1800,
            "timeout_reboot": 1800,
            "timeout_shutdown_vm": 1800,
            "timeout_start_vm": 1800,
            "timeout_stop_vm": 300,
            "usb": [],
            "vga": [
              {
                "enabled": true,
                "memory": 16,
                "type": "std"
              }
            ],
            "vm_id": 9902
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.local_file.config"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
