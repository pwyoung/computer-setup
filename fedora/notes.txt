
# Firefox:
  - sync

# Software:
  - dash-to-panel

# Timeshift:
  - yum install -y timeshift \

# Conveniences:
  - yum install -y htop emacs-nox make

# SSHD:
  - sudo systemctl start sshd
  - sudo systemctl enable Sshd  

# RPMFUSION:
  - https://docs.fedoraproject.org/en-US/quick-docs/setup_rpmfusion/
    - Free
      - sudo dnf install \
        https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm
    - NonFree
      - sudo dnf install \
        https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
    - Appstream
      - sudo dnf groupupdate core

# exfat (for portable usb)
  - dnf install -y fuse-exfat
  
# Setup repo:
  - mkdir -p ~/git/pwyoung && cd $_ && git clone https://github.com/pwyoung/computer-setup.git

# Git:
  - cd ~/ && \
    ln -s ./git/pwyoung/computer-setup/generic/git/.gitconfig ./ && \
    ln -s ./git/pwyoung/computer-setup/generic/git/.gitignore ./
  - config
    git config --global user.name "pwyoung"
    git config --global user.email "----@gmail.com"
    
# ~/bin:
  - cd ~/ && \
    ln -s git/pwyoung/computer-setup/generic/bin ./bin

# BASH
  - cd ~/ && \
    mkdir -p ~/_Archive && \
    mv ./.bash_profile ~/_Archive/ && \
    ln -s git/pwyoung/computer-setup/generic/home/.bash_profile ./
  - Terminal: "run command as login shell"

# NVIDIA:
  - Docs:
    - open https://rpmfusion.org/Howto/NVIDIA#Latest.2FBeta_driver
  - Stop screen flicker:
    - Set refresh rate of monitor lower (28Hz on 4k)
## Take snapshots after each successful reboot
## update os
sudo dnf update
sudo dnf upgrade
##Update Kernel (and reboot)
sudo dnf install "kernel-devel == $(uname -r)"
sudo dnf update -y
reboot
## install AKMOD drivers
sudo dnf install   https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm
sudo dnf install   https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
sudo dnf --releasever=30 install akmod-nvidia xorg-x11-drv-nvidia --nogpgcheck
reboot
## install acceleration drivers 
sudo dnf install vdpauinfo libva-vdpau-driver libva-utils
vdpauinfo | less
vainfo | less # Has an error which is fixed with reboot
reboot
## Install additional optional components
sudo dnf install vulkan
sudo dnf install xorg-x11-drv-nvidia-cuda
reboot

# Now, resizing (smaller and then back) works
  - resize to 2560x1440 (visibility on 4k)
  - Font mono-18

# Atom:
  - wget https://atom.io/download/rpm -O atom.rpm
  - sudo dnf localinstall atom.rpm

# Virtualbox
  - Docs
    - https://www.if-not-true-then-false.com/2010/install-virtualbox-with-yum-on-fedora-centos-red-hat-rhel/
  - Commands
    - become root
    - cd /etc/yum.repos.d/ && wget http://download.virtualbox.org/virtualbox/rpm/fedora/virtualbox.repo
    - dnf update
    - dnf install binutils gcc make patch libgomp glibc-headers glibc-devel kernel-headers kernel-devel dkms qt5-qtx11extras libxkbcommon
    - dnf install VirtualBox-6.0
    - /usr/lib/virtualbox/vboxdrv.sh setup
    - usermod -a -G vboxusers pyoung
# Virtualbox Guest Additions
  - Docs
    - https://www.if-not-true-then-false.com/2010/install-virtualbox-guest-additions-on-fedora-centos-red-hat-rhel/
  - Commands
    - https://www.virtualbox.org/wiki/Downloads
    - Get "VirtualBox <VERSION> Oracle VM VirtualBox Extension Pack"

# Python
mkdir -p ~/virtualenv && cd $_ && if [ ! -e python3 ]; then python3 -m venv python3; fi
mkdir -p ~/.private.d && echo 'source ~/virtualenv/python3/bin/activate' > ~/.private.d/python.sh

# Vagrant
  - THIS FAILS... THE VAGRANT VERSION DOES NOT WORK...
    - https://developer.fedoraproject.org/tools/vagrant/vagrant-virtualbox.html
    - sudo dnf install vagrant
  - INSTEAD, install "Linux 64-bit" binary" from
    - https://www.vagrantup.com/downloads.html
    - Put it in /usr/local/bin
  - Set virtualbox as the default provider (for now anyway)
    - mkdir -p ~/.profile.d && echo 'export VAGRANT_DEFAULT_PROVIDER=virtualbox' > ~/.profile.d/vagrant.sh

# KVM
  - dnf update && dnf install virt-manager libvirt
  - includes python3-libvirt and libvirt-bash-completion

# TODO
- https://rpmfusion.org/Howto/CUDA

